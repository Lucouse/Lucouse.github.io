var Footer=function(){return{buildFooter:function(e,b){void 0==e&&(e=document.body);var a=document.createElement("div");a.setAttribute("class","footer");e.appendChild(a).appendChild(b)}}},footer=new Footer,Util=function(){function e(a){var c=(new JSZip).folder(a.folder.name);c.file(a.folder.file[0].name,a.folder.file[0].value);c.file(a.folder.file[1].name,a.folder.file[1].value);c.generateAsync({type:"base64"}).then(function(a){location.href="data:application/zip;base64,"+a})}function b(a,c){var d=
"",f;for(f in a)d=d+a[f]+";";c(d)}return{buildDom:function(a){var c=a.length;a.forEach(function(d,f){f+1<c&&d.appendChild(a[f+1])})},downloadComponent:function(a){api.getComponent(a,"index.html",function(c){api.getComponent(a,"index.css",function(d){e({folder:{name:a,file:[{name:"index.html",value:c},{name:"index.css",value:d}]}})})})},buildZip:e,buildUrl:function(a){var c="";a.forEach(function(a){c=c+"/"+a});return c},buildMailToAddress:function(a,c){var d="MailTo:";b(a.address,function(f){d=d+f+
"?";d=d+"subject="+a.subject+"&";b(a.cc,function(g){""!==g&&(d=d+"cc="+g+"&");b(a.bcc,function(f){""!==g&&(d=d+"bcc="+f+"&body="+a.body);d=d+"body="+a.body;c(d)})})})}}},util=new Util,Api=function(){function e(a,c,d){fetch(a).then(function(a){if(c===b.json)return a.json();if(c===b.text)return a.text()}).then(function(a){d(a)}).catch(function(a){message.alertMessage(a,null)})}var b={json:"json",text:"text",html:"html",css:"css",xml:"xml"};return{getComponent:function(a,c,d){a=util.buildUrl(["Lucouse.github.io",
"component",a,c]);e(a,b.text,function(a){d(a)})},getComponentList:function(a){var c=util.buildUrl(["Lucouse.github.io","list.json"]);e(c,b.json,function(d){a(d)})},download:e,getProjectInfo:function(a){var c=util.buildUrl(["Lucouse.github.io","project.json"]);e(c,b.json,function(d){a(d)})},getHelpInfo:function(a){var c=util.buildUrl(["Lucouse.github.io","help.json"]);e(c,b.json,function(d){a(d)})}}},api=new Api,Help=function(){var e="";return{buildHelpPage:function(b){void 0==b&&(b=document.body);
var a=document.createElement("div"),c=document.createElement("div");a.setAttribute("class","help-page-left-menu");c.setAttribute("class","help-page-right-content");b.appendChild(a);b.appendChild(c);api.getHelpInfo(function(d){e=d;d=a;void 0==d&&(d=document.body);var b=document.createElement("ul");b.setAttribute("class","list-vertical");for(var g in e){var h=document.createElement("li"),k=document.createElement("a");k.innerHTML=e[g].name;k.setAttribute("href","#"+e[g].id);b.appendChild(h).appendChild(k)}d.appendChild(b);
for(var p in e)g=document.createElement("div"),d=document.createElement("h3"),b=document.createElement("a"),h=document.createElement("p"),b.setAttribute("id",e[p].id),b.innerHTML=e[p].name,h.innerHTML=e[p].content,g.appendChild(d).appendChild(b),g.appendChild(h),c.appendChild(g)})}}},help=new Help,Main=function(e){function b(){api.getComponentList(function(d){d.forEach(function(d){api.getComponent(d.id,"index.html",function(c){var b=document.createElement("div"),g=document.createElement("h3"),e=document.createElement("div"),
k=document.createElement("div");b.setAttribute("class","main-panel");g.innerText=d.name_cn;e.innerHTML=c.replace("index.css","component/"+d.id+"/index.min.css").replace("index.js","component/"+d.id+"/index.min.js");k.setAttribute("class","component-tooBar");a(k,d.id);util.buildDom([document.getElementById("container"),b,g]);util.buildDom([b,e]);util.buildDom([b,k])})})})}function a(a,d){fontFaceIcon.buildIcon(a,{iconClass:"i_download","data-tooltip":"\u4e0b\u8f7d"},function(a){a.onclick=function(a){util.downloadComponent(d)}});
fontFaceIcon.buildIcon(a,{iconClass:"i_feedback","data-tooltip":"\u53cd\u9988"},function(c){c.onclick=function(c){var b=document.createElement("a");util.buildMailToAddress({address:["2809606201@qq.com"],subject:"\u7ec4\u4ef6\u53cd\u9988 id:"+d,cc:[],bcc:[],body:"\u5728\u8fd9\u91cc\u5199\u4e0b\u4f60\u7684\u5185\u5bb9"},function(a){b.setAttribute("href",a)});a.appendChild(b);b.click();a.removeChild(b)}});fontFaceIcon.buildIcon(a,{iconClass:"i_open","data-tooltip":"\u65b0\u7a97\u53e3\u6253\u5f00"},function(a){a.onclick=
function(a){f(d)}})}function c(){api.getProjectInfo(function(a){var d=document.getElementsByClassName("header")[0],c=document.createElement("div"),b=document.createElement("a"),e=document.createElement("h2"),g=document.createElement("div"),f=document.createElement("div");e.innerText=a.projectName;g.innerText=a.version;f.innerText=a.latestUpdateDate;c.setAttribute("class","project-info");b.setAttribute("href","https://lucouse.github.io");util.buildDom([d,c]);util.buildDom([c,b,e]);util.buildDom([c,
g]);util.buildDom([c,f]);a=a.headerToolList;c=document.createElement("ul");c.setAttribute("class","list-Landscape header-toolBar");for(var n in a){b=document.createElement("li");b.innerHTML=a[n].name;c.appendChild(b);b=document.createElement("ul");b.setAttribute("class","list-vertical");for(var q in a[n].list)e=document.createElement("li"),g=document.createElement("a"),g.innerHTML=a[n].list[q].name,g.setAttribute("href",a[n].list[q].url),b.appendChild(e)}d.appendChild(c)})}function d(){var a=document.createElement("div"),
d=document.createElement("ul");d.setAttribute("class","footer-ul list-Landscape");var c=[{name:"\u5e2e\u52a9",url:"pages/help.html"}],b;for(b in c){var e=document.createElement("li"),f=document.createElement("a");f.innerHTML=c[b].name;f.setAttribute("href",c[b].url);e.appendChild(f);d.appendChild(e)}e=document.createElement("li");f=document.createElement("li");f.innerHTML="contact us @";e.appendChild(f);e.setAttribute("id","contact-us");c=[{iconClass:{iconClass:"i_github github-icon none-shadow"},
url:"https://github.com/Lucouse"}];for(b in c){var r=document.createElement("li");f=document.createElement("a");f.setAttribute("href",c[b].url);e.appendChild(r).appendChild(f);fontFaceIcon.buildIcon(f,c[b].iconClass,function(a){a.click=function(){window.location=c[b].url}})}d.appendChild(e);a.appendChild(d);footer.buildFooter(void 0,a)}function f(a){cover.showCover();var c=document.createElement("div"),d=document.createElement("h3"),b=document.createElement("div"),e=document.createElement("div");
c.appendChild(d);c.appendChild(b);c.appendChild(e);b.setAttribute("class","component-detail-content");e.setAttribute("class","popUp-toolbar-container");api.getComponent(a,"index.html",function(f){b.innerHTML=f.replace("index.css","component/"+a+"/index.min.css").replace("index.js","component/"+a+"/index.min.js");api.getComponentList(function(c){for(var b in c)if(c[b].id===a){d.innerHTML=c[b].name_cn;var f=void 0,g=c[b].compatibility,k=e,h="",l="",m="";for(f in g){switch(g[f].name){case "weChat":h=
"i_wechat_6 wechat-icon";l="\u5fae\u4fe1";m=""===g[f].version?"\u672a\u77e5":g[f].version;break;case "chrome":h="i_chrome chrome-icon";l="Chrome";m=""===g[f].version?"\u672a\u77e5":g[f].version;break;case "firefox":h="i_firefox_logotyp firefox-icon";l="\u706b\u72d0";m=""===g[f].version?"\u672a\u77e5":g[f].version;break;case "ie":h="i_ie ie-icon";l="IE";m=""===g[f].version?"\u672a\u77e5":g[f].version;break;case "edge":h="i_edge edge-icon",l="Edge",m=""===g[f].version?"\u672a\u77e5":g[f].version}fontFaceIcon.buildIcon(k,
{iconClass:h,"data-tooltip":l,attr:[{name:"version",value:m}]})}}});popUp.showPopUp(void 0,"custom-popUp-win",c)})}return{init:function(){b();c();d();_hmt.push(["_trackPageview","/"])},helpInit:function(){c();d();help.buildHelpPage(document.getElementsByClassName("container")[0]);_hmt.push(["_trackPageview","/pages/help.html"])}}},main=new Main,Cover=function(){var e=document.createElement("div"),b=document.body;return{showCover:function(a){void 0!=a&&(b=a);e.setAttribute("class","cover");b.appendChild(e)},
removeCover:function(){b.removeChild(e)}}},cover=new Cover,Message=function(){function e(a){a.fadeOut(800,function(){a.remove()})}function b(a,c){var b=$("<div></div>");c=$("<div></div>");var f=$("<div></div>");c.text("X");b.attr("class","message-container");c.attr("class","message-close");c.click(function(){e(b)});f.html(a);b.append(c);b.append(f);b.fadeOut(8E3,function(){b.remove()});return b}return{type:{success:"success",error:"error",info:"info",warning:"warning"},alertMessage:function(a,c){$(document.body).append(b(a,
c))}}},message=new Message,PopUp=function(){return{showPopUp:function(e,b,a){cover.showCover();void 0==e&&(e=document.body);var c=document.createElement("div"),d=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("i"),k=document.createElement("div");d.setAttribute("class","close-button-container");f.setAttribute("id","icon-panel");h.setAttribute("class","i_close close-button-i");d.appendChild(f).appendChild(g).appendChild(h);void 0!==
b?c.setAttribute("class",b):c.setAttribute("class","popUpWin");k.setAttribute("class","popUp-content");e.appendChild(c).appendChild(d);c.appendChild(k).appendChild(a);h.onclick=function(a){e.removeChild(c);cover.removeCover()}}}},popUp=new PopUp,FontFaceIcon=function(){return{buildIcon:function(e,b,a){var c=document.createElement("div"),d=document.createElement("div"),f=document.createElement("i");c.setAttribute("id","icon-panel");void 0!==b["data-tooltip"]?(f.setAttribute("class",b.iconClass+" tooltip"),
f.setAttribute("data-tooltip",b["data-tooltip"])):f.setAttribute("class",b.iconClass);for(var g in b.attr)c.setAttribute(b.attr[g].name,b.attr[g].value);e.appendChild(c).appendChild(d).appendChild(f);void 0!==a&&a(f)}}},fontFaceIcon=new FontFaceIcon;
